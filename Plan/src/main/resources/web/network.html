<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>Plan | Network</title>
    <!-- Favicon-->
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet"
          type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

    <!-- Bootstrap Core Css -->
    <link href="plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Waves Effect Css -->
    <link href="plugins/node-waves/waves.css" rel="stylesheet"/>

    <!-- Animation Css -->
    <link href="plugins/animate-css/animate.css" rel="stylesheet"/>

    <!-- Custom Css -->
    <link href="css/style.css" rel="stylesheet">

    <!-- Plan Stylesheet -->
    <link href="css/main.css" rel="stylesheet">

    <!-- AdminBSB Themes. You can choose a theme from css/themes instead of get all themes -->
    <link href="css/themes/all-themes.css" rel="stylesheet"/>

    <!-- Jquery Core Js -->
    <script src="plugins/jquery/jquery.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
          integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
</head>

<body class="theme-red">
<script src="js/charts/playerGraphNoNav.js"></script>
<!-- Page Loader -->
<div class="page-loader-wrapper">
    <div class="loader">
        <div class="preloader">
            <div class="spinner-layer pl-light-green">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>
        </div>
        <p>Please wait...</p>
    </div>
</div>
<!-- #END# Page Loader -->
<!-- Overlay For Sidebars -->
<div class="overlay"></div>
<!-- #END# Overlay For Sidebars -->
<!-- Search Bar -->
<div class="search-bar">
    <div class="search-icon">
        <i class="material-icons">search</i>
    </div>
    <input type="text" placeholder="START TYPING...">
    <div class="close-search">
        <i class="material-icons">close</i>
    </div>
</div>
<!-- #END# Search Bar -->
<!-- Top Bar -->
<nav class="navbar">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="javascript:void(0);" class="navbar-toggle collapsed" data-toggle="collapse"
               data-target="#navbar-collapse" aria-expanded="false"></a>
            <a href="javascript:void(0);" class="bars"></a>
            <a class="navbar-brand">${networkName} | Network</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <!-- Call Search (Disabled)
                <li><a href="javascript:void(0);" class="js-search" data-close="true"><i class="material-icons">search</i></a></li>
                <!-- #END# Call Search -->
                <li class="pull-right"><a href="javascript:void(0);" class="js-right-sidebar" data-close="true"><i
                        class="material-icons">settings</i></a></li>
            </ul>
        </div>
    </div>
</nav>
<!-- #Top Bar -->
<section>
    <!-- Left Sidebar -->
    <aside id="leftsidebar" class="sidebar">
        <!-- Menu -->
        <div class="menu">
            <ul class="list">
                <li class="active">
                    <a class="nav-button" href="javascript:void(0)">
                        <i class="material-icons">info_outline</i>
                        <span>Overview</span>
                    </a>
                </li>
                <li>
                    <a class="nav-button" href="javascript:void(0)">
                        <i class="material-icons">storage</i>
                        <span>Servers</span>
                    </a>
                </li>
                <li>
                    <a class="nav-button" href="javascript:void(0)">
                        <i class="material-icons">local_hospital</i>
                        <span>Network Health</span>
                    </a>
                </li>
                <li>
                    <a class="nav-button" href="javascript:void(0)">
                        <i class="material-icons">language</i>
                        <span>Geolocations</span>
                    </a>
                </li>
                <li>
                    <a target="_blank" href="../players">
                        <i class="material-icons">people</i>
                        <span>Network Players</span>
                    </a>
                </li>
            </ul>
        </div>
        <!-- #Menu -->
        <!-- Footer -->
        <div class="legal">
            <div class="row clearfix">
                <div class="col-xs-10 col-sm-10 col-lg-10">
                    <div class="version">
                        <b>Player Analytics: </b> v${version}
                    </div>
                </div>
                <div class="col-xs-2 col-sm-2 col-lg-2">
                    <a href="javascript:void(0)" class="help material-icons pull-right"
                       tabindex="0" data-trigger="focus" data-toggle="popover" data-placement="top"
                       data-container="body" data-html="true"
                       data-original-title="Player Analytics"
                       data-content="Author: Rsl1122
                       <br><br>Tutorials: <a target=&quot;_blank&quot; href=&quot;https://github.com/Rsl1122/Plan-PlayerAnalytics/wiki&quot;>Link</a>
                       <br>Issues: <a target=&quot;_blank&quot; href=&quot;https://github.com/Rsl1122/Plan-PlayerAnalytics/issues&quot;>Link</a>
                       <br><br>Discord: <a target=&quot;_blank&quot; href=&quot;https://discord.gg/yXKmjzT&quot;>Link</a>"
                    >help_outline</a>
                </div>
            </div>
        </div>
        <!-- #Footer -->
    </aside>
    <!-- #END# Left Sidebar -->
    <!-- Right Sidebar -->
    <aside id="rightsidebar" class="right-sidebar">
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade in active in active" id="skins">
                <ul class="demo-choose-skin">
                    <li data-theme="red" class="active">
                        <div class="red"></div>
                        <span>Red</span>
                    </li>
                    <li data-theme="pink">
                        <div class="pink"></div>
                        <span>Pink</span>
                    </li>
                    <li data-theme="purple">
                        <div class="purple"></div>
                        <span>Purple</span>
                    </li>
                    <li data-theme="deep-purple">
                        <div class="deep-purple"></div>
                        <span>Deep Purple</span>
                    </li>
                    <li data-theme="indigo">
                        <div class="indigo"></div>
                        <span>Indigo</span>
                    </li>
                    <li data-theme="blue">
                        <div class="blue"></div>
                        <span>Blue</span>
                    </li>
                    <li data-theme="light-blue">
                        <div class="light-blue"></div>
                        <span>Light Blue</span>
                    </li>
                    <li data-theme="cyan">
                        <div class="cyan"></div>
                        <span>Cyan</span>
                    </li>
                    <li data-theme="teal">
                        <div class="teal"></div>
                        <span>Teal</span>
                    </li>
                    <li data-theme="green">
                        <div class="green"></div>
                        <span>Green</span>
                    </li>
                    <li data-theme="light-green">
                        <div class="light-green"></div>
                        <span>Light Green</span>
                    </li>
                    <li data-theme="lime">
                        <div class="lime"></div>
                        <span>Lime</span>
                    </li>
                    <li data-theme="yellow">
                        <div class="yellow"></div>
                        <span>Yellow</span>
                    </li>
                    <li data-theme="amber">
                        <div class="amber"></div>
                        <span>Amber</span>
                    </li>
                    <li data-theme="orange">
                        <div class="orange"></div>
                        <span>Orange</span>
                    </li>
                    <li data-theme="deep-orange">
                        <div class="deep-orange"></div>
                        <span>Deep Orange</span>
                    </li>
                    <li data-theme="brown">
                        <div class="brown"></div>
                        <span>Brown</span>
                    </li>
                    <li data-theme="grey">
                        <div class="grey"></div>
                        <span>Grey</span>
                    </li>
                    <li data-theme="blue-grey">
                        <div class="blue-grey"></div>
                        <span>Blue Grey</span>
                    </li>
                    <li data-theme="black">
                        <div class="black"></div>
                        <span>Black</span>
                    </li>
                </ul>
            </div>
        </div>
    </aside>
    <!-- #END# Right Sidebar -->
</section>

<section class="content">
    <div class="main-limiter">
        <div id="main">
            <div id="tab-overview" class="tab">
                <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                    <div class="card">
                        <div class="header">
                            <div class="col-xs-6 col-sm-6 col-lg-6">
                                <h2><i class="col-blue fa fa-area-chart"></i> Network Online Activity</h2>
                            </div>
                            <div class="col-xs-6 col-sm-6 col-lg-6">
                                <a href="javascript:void(0)" class="help material-icons pull-right"
                                   tabindex="0" data-trigger="focus" data-toggle="popover" data-placement="left"
                                   data-container="body" data-html="true"
                                   data-original-title="Player Online Activity"
                                   data-content="Chart of Player Counts, recorded by Bungee TPS task.
                                               <br><br>TPS task starts 50 seconds after Plan enables and records Maximum player count for each minute.
                                               <br><br>Despite its name, on Bungee only Player count is recorded."
                                >help_outline</a>
                            </div>
                        </div>
                        <div class="body">
                            <div id="playerChartDay" class="dashboard-flot-chart"></div>
                        </div>
                    </div>
                </div>
                <!-- Network Information -->
                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                    <div class="card">
                        <div class="body bg-white">
                            <div class="m-b--35 font-bold">NETWORK INFORMATION</div>
                            <ul class="dashboard-stat-list">
                                <li>
                                    <i class="fa fa-users"></i> Total Players
                                    <span class="pull-right"><b>${playersTotal}</b></span>
                                </li>
                                <li>
                                    <i class="col-blue fa fa-user"></i> Players Online
                                    <span class="pull-right"><b>${playersOnline}</b></span>
                                </li>
                                <li></li>
                                <li><i class="col-green fa fa-line-chart"></i> Last Peak: ${lastPeakTime}<span
                                        class="pull-right"><b>${playersLastPeak}</b> Players</span></li>
                                <li><i class="col-blue fa fa-line-chart"></i> All Time Peak: ${bestPeakTime}<span
                                        class="pull-right"><b>${playersBestPeak}</b> Players</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card">
                        <div class="body bg-white">
                            <div class="m-b--35 font-bold">PLAYERS</div>
                            <ul class="dashboard-stat-list">
                                <li>
                                    <i class="col-blue fa fa-users"></i> Unique | 24h
                                    <span class="pull-right"><b>${playersDay}</b></span>
                                </li>
                                <li>
                                    <i class="col-light-green fa fa-user-plus"></i> New | 24h
                                    <span class="pull-right"><b>${playersNewDay}</b></span>
                                </li>
                                <li></li>
                                <li>
                                    <i class="col-blue fa fa-users"></i> Unique | 7d
                                    <span class="pull-right"><b>${playersWeek}</b></span>
                                </li>
                                <li>
                                    <i class="col-light-green fa fa-user-plus"></i> New | 7d
                                    <span class="pull-right"><b>${playersNewWeek}</b></span>
                                </li>
                                <li></li>
                                <li>
                                    <i class="col-blue fa fa-users"></i> Unique | 30d
                                    <span class="pull-right"><b>${playersMonth}</b></span>
                                </li>
                                <li>
                                    <i class="col-light-green fa fa-user-plus"></i> New | 30d
                                    <span class="pull-right"><b>${playersNewMonth}</b></span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- #END# Network Information -->
            </div>
            <!-- #END# Tab Overview -->
            <div id="tab-servers" class="tab">
                ${tabContentServers}
            </div>
            <!-- #END# Tab Servers -->
            <div id="tab-health" class="tab">
                <div class="row clearfix">
                    <!-- Health Gauge -->
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                        <div class="card">
                            <div class="header">
                                <div class="row clearfix">
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <h2><i class="col-red fa fa-heartbeat"></i> Health Estimate</h2>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <a href="javascript:void(0)" class="help material-icons pull-right"
                                           tabindex="0" data-trigger="focus" data-toggle="popover" data-placement="left"
                                           data-container="body" data-html="true"
                                           data-original-title="Server Health Estimate"
                                           data-content="Quick Measure of the server health.
                                               <br><br>The health is calculated using different measures, all of which can be seen in the notes section."
                                        >help_outline</a>
                                    </div>
                                </div>
                            </div>
                            <div class="body">
                                <div id="healthGauge" style="height: 200px; width: 100%;"></div>
                            </div>
                        </div>
                    </div>
                    <!-- #END# Health Gauge -->
                    <!-- Notes -->
                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                        <div class="card">
                            <div class="header">
                                <div class="row clearfix">
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <h2><i class="col-red far fa-life-ring"></i> Last 30 Days</h2>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <a href="javascript:void(0)" class="help material-icons pull-right"
                                           tabindex="0" data-trigger="focus" data-toggle="popover" data-placement="left"
                                           data-container="body" data-html="true"
                                           data-original-title="Notes (30 Days)"
                                           data-content="Measures the server health is based on
                                               <br><br>Each measure has 3 possible outcomes:
                                               <br>Thumbs up: All good
                                               <br>Flag: Something might require action
                                               <br>Warning: Measure is reducing the server health"
                                        >help_outline</a>
                                    </div>
                                </div>
                            </div>
                            <div class="body bg-white">
                                ${healthNotes}
                            </div>
                        </div>
                    </div>
                    <!-- #END# Notes -->
                </div>
                <div class="row clearfix">
                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                        <div class="card">
                            <div class="header">
                                <div class="row clearfix">
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <h2><i class="col-amber fa fa-line-chart"></i> Playerbase Development</h2>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <a href="javascript:void(0)" class="help material-icons pull-right"
                                           tabindex="0" data-trigger="focus" data-toggle="popover" data-placement="left"
                                           data-container="body" data-html="true"
                                           data-original-title="Playerbase Development"
                                           data-content="Chart that displays development of the playerbase
                                               <br><br>Groups are based on Activity Index. <br><br><b>Activity Index:</b> Calculated using the sessions in the last 3 weeks (At that point in time). From 0 to 5.
                                               <br><br>Points are calculated every 7 days for last 9 weeks, using the activity index at that point for each player.
                                               <br><br><b>Groups:</b> Very Active(>&nbsp;3,5) Active(>&nbsp;1.75) Regular(>&nbsp;1.0) Irregular(>&nbsp;0.5) Inactive(<&nbsp;0.5)
                                               <br><br>Groups can be hidden by clicking the group name in the legend."
                                        >help_outline</a>
                                    </div>
                                </div>
                            </div>
                            <div class="body">
                                <div id="activityStackGraph" class="dashboard-flot-chart"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                        <div class="card">
                            <div class="header">
                                <div class="row clearfix">
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <h2><i class="col-amber fa fa-users"></i> Current Playerbase</h2>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <a href="javascript:void(0)" class="help material-icons pull-right"
                                           tabindex="0" data-trigger="focus" data-toggle="popover" data-placement="left"
                                           data-container="body" data-html="true"
                                           data-original-title="Current Playerbase Distribution"
                                           data-content="Pie of the Activity Index distribution at the time of Analysis, last point in the Playerbase Development graph.
                                               <br><br><b>Activity Index:</b> Calculated using the sessions in the last 3 weeks. From 0 to 5.
                                               <br><br><b>Groups:</b> Very Active(>&nbsp;3,5) Active(>&nbsp;1.75) Regular(>&nbsp;1.0) Irregular(>&nbsp;0.5) Inactive(<&nbsp;0.5)
                                               <br><br>Groups can be hidden by clicking the group name in the legend."
                                        >help_outline</a>
                                    </div>
                                </div>
                            </div>
                            <div class="body">
                                <div id="activityPie" class="dashboard-donut-chart"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- #END# Tab Health -->
            <div id="tab-geolocations" class="tab">
                <!-- Geolocations -->
                <div class="row clearfix">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <div class="card">
                            <div class="header">
                                <div class="row clearfix">
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <h2><i class="col-green fa fa-globe"></i> Geolocations</h2>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-lg-6">
                                        <a href="javascript:void(0)" class="help material-icons pull-right"
                                           tabindex="0" data-trigger="focus" data-toggle="popover" data-placement="left"
                                           data-container="body" data-html="true"
                                           data-original-title="Player Locations"
                                           data-content="Each player's most recent login IP is used to get a Geolocation, which is displayed here.
                                           <br><br>'Local Machine' connections are not displayed
                                           <br><br>Map can be zoomed using the mouse wheel or by pinching."
                                        >help_outline</a>
                                    </div>
                                </div>
                            </div>
                            <div class="body">
                                <div class="row clearfix">
                                    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                                        <div id="countryBarChart" class="dashboard-flot-chart"></div>
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
                                        <div id="worldMap" class="dashboard-flot-chart"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #END# Geolocations -->
            </div>
            <!-- #END# Tab Geolocations -->
        </div>
    </div>
</section>

<!-- Bootstrap Core Js -->
<script src="plugins/bootstrap/js/bootstrap.js"></script>

<!-- Slimscroll Plugin Js -->
<script src="plugins/jquery-slimscroll/jquery.slimscroll.js"></script>

<!-- Waves Effect Plugin Js -->
<script src="plugins/node-waves/waves.js"></script>

<!-- HighCharts -->
<script src="https://code.highcharts.com/stock/highstock.js"></script>
<script src="https://code.highcharts.com/maps/modules/map.js"></script>
<script src="https://code.highcharts.com/mapdata/custom/world.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/solid-gauge.js"></script>
<script src="https://code.highcharts.com/modules/no-data-to-display.js"></script>

<!-- Header, Sidenav & Skin changer -->
<script src="js/admin.js"></script>

<!-- Plan Charts -->
<script src="../js/charts/playerGraph.js"></script>
<script src="../js/charts/healthGauge.js"></script>
<script src="../js/charts/activityPie.js"></script>
<script src="../js/charts/stackGraph.js"></script>
<script src="../js/charts/worldMap.js"></script>
<script src="../js/charts/horizontalBarGraph.js"></script>

<!-- Chart Data -->
<script>
    Highcharts.setOptions({
        lang: {noData: "No Data to Display"},
        time: {
            timezoneOffset: ${timeZone} * 60
    }
    })
    // Placeholder values
    var v = {
        colors: {
            playersOnline: '${playersGraphColor}',
            geolocationsLow: '${worldMapColLow}',
            geolocationsHigh: '${worldMapColHigh}'
        },
        data: {
            playersOnline: ${playersOnlineSeries},
            activityPie: ${activityPieSeries},
            geolocations: ${geoMapSeries},
            activityStack: ${activityStackSeries},
            activityStackCategories: ${activityStackCategories},
            healthIndex: ${healthIndex},
            countryCategories: ${countryCategories},
            country: ${countrySeries}
        }
    };
    // HighCharts Series
    var series = {
        playersOnline: {
            name: 'Players Online',
            data: ${playersOnlineSeries},
            type: 'areaspline',
            color: '${playersGraphColor}',
            tooltip: {
                valueDecimals: 0
            }
        },
        geolocations: {
            name: 'Players',
            type: 'map',
            mapData: Highcharts.maps['custom/world'],
            data: ${geoMapSeries},
            joinBy: ['iso-a3', 'code']
        },
        activityPie: {
            name: 'Players',
            colorByPoint: true,
            data: v.data.activityPie
        },
        country: {
            color: '#4CAF50',
            name: 'Players',
            data: v.data.country
        },
        activityStack: v.data.activityStack,
        activityStackCategories: v.data.activityStackCategories
    };
</script>

<!-- Plan load script -->
<script>
    $(function () {

        var navButtons = document.getElementsByClassName("nav-button");
        var tabs = document.getElementsByClassName("tab");
        var slideIndex = window.sessionStorage.getItem("NetworkSlideIndex");
        if (slideIndex === null) {
            slideIndex = 0;
        }
        var x = document.getElementById("main");
        x.style.transform = "translate3d(0px,0px,0)";
        x.style.width = "" + navButtons.length * 100 + "%";
        for (var i = 0; i < navButtons.length; i++) {
            navButtons[i].onclick = openFunc(i);
            tabs[i].style.width = "" + 100 / navButtons.length + "%";
        }
        x.style.opacity = "1";
        openFunc(slideIndex)();

        // Chart draw scripts
        playersChart('playerChartDay', series.playersOnline, 2);
        activityPie('activityPie', series.activityPie);
        stackChart('activityStackGraph', series.activityStackCategories, series.activityStack, 'Players');
        healthGauge('healthGauge', [v.data.healthIndex]);
        worldMap('worldMap', v.colors.geolocationsLow, v.colors.geolocationsHigh, series.geolocations);
        horizontalBarChart('countryBarChart', v.data.countryCategories, [series.country], 'Players');

        function openFunc(i) {
            return function () {
                var max = navButtons.length;
                for (var j = 0; j < max; j++) {
                    if (navButtons[j].parentElement.classList.contains('active')) {
                        navButtons[j].parentElement.classList.remove('active');
                    }
                    if (j == i) {
                        navButtons[j].parentElement.classList.add('active');

                    }
                }
                var percent = -100 / navButtons.length;
                slideIndex = i;
                if (slideIndex > max) {
                    slideIndex = 0
                }
                if (slideIndex < 0) {
                    slideIndex = max
                }
                window.sessionStorage.setItem("NetworkSlideIndex", slideIndex);
                var value = slideIndex * percent;
                x.style.transition = "0.5s";
                x.style.transform = "translate3d(" + value + "%,0px,0)";
            };
        }
    });
</script>

<!-- Demo Js -->
<script src="js/demo.js"></script>
</body>

</html>
